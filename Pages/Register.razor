@page "/register"
@inject HttpClient Http

<EditForm Model="@register" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div class="form-group">
        <label for="firstName">First Name:</label>
        <InputText class="form-control" id="firstName" @bind-Value="register.FirstName"  placeholder="First name" />
    </div>
    <div class="form-group">
        <label for="lastName">Last Name:</label>
        <InputText class="form-control" id="lastName" @bind-Value="register.LastName"  placeholder="Last name" />
    </div>
    <div class="form-group">
        <label for="username">User name:</label>
        <InputText class="form-control" id="username" @bind-Value="register.Username"  placeholder="User name" />
    </div>
    <div class="form-group">
        <label for="password">Password:</label>
        <InputText type="password" class="form-control" id="password" @bind-Value="register.Password"  placeholder="Password" />
    </div>
    <div class="form-group">
        <label for="role">Role:</label>
        <InputText class="form-control" id="role" @bind-Value="register.Role"  placeholder="Role" />
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</EditForm>

@code{
    private RegisterModel register = new RegisterModel();
    private async Task HandleValidSubmit()
    {
       await Http.PostAsJsonAsync("/api/Users/register",register);
    }
}